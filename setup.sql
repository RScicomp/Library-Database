CREATE TABLE book
(
  bid INTEGER NOT NULL
  ,title VARCHAR(30) NOT NULL
  ,author VARCHAR(20) NOT NULL
  ,publisher VARCHAR(30) NOT NULL
  ,PRIMARY KEY (bid)
);

CREATE TABLE copy
(
  bid INTEGER NOT NULL
  ,cid INTEGER NOT NULL
  ,edition INTEGER NOT NULL
  ,PRIMARY KEY(bid,cid)
  ,FOREIGN KEY(bid) REFERENCES book(bid)
);

CREATE TABLE member
(
  mid INTEGER NOT NULL
  ,mname VARCHAR(15) NOT NULL
  ,status VARCHAR(10) NOT NULL
  ,PRIMARY KEY (mid)
);

CREATE TABLE loan
(
   lid INTEGER NOT NULL
  ,bid INTEGER  NOT NULL
  ,cid INTEGER NOT NULL
  ,mid INTEGER NOT NULL
  ,due_date DATE NOT NULL
  ,returned_date DATE
  ,fine NUMERIC(6,2)
  ,PRIMARY KEY(lid)
  ,FOREIGN KEY(mid) REFERENCES member(mid)
  ,FOREIGN KEY(bid, cid) REFERENCES copy(bid, cid)
);

INSERT INTO member VALUES(11111111, 'Sonya Kirk','REGULAR');
INSERT INTO member VALUES(11111112, 'Ishmael Hood','YOUTH');
INSERT INTO member VALUES(11111113, 'John Smith','STUDENT');
INSERT INTO member VALUES(11111114, 'Mufutau Glover','STUDENT');
INSERT INTO member VALUES(11111115, 'Lucius Mayer','YOUTH');
INSERT INTO member VALUES(11111116, 'Linus Gilliam','REGULAR');
INSERT INTO member VALUES(11111117, 'Barry Warren','REGULAR');
INSERT INTO member VALUES(11111118, 'Anne Taylor','REGULAR');
INSERT INTO member VALUES(11111119, 'Abel Park','REGULAR');
INSERT INTO member VALUES(11111120, 'Lani Klein','REGULAR');
INSERT INTO member VALUES(11111121, 'Holly Mayer','YOUTH');
INSERT INTO member VALUES(11111122, 'Finn Mullins','STUDENT');

INSERT INTO book VALUES(1,'One Day','David Nicholls','Vintage');
INSERT INTO book VALUES(2,'The Buried Giant','Kazuo Ishiguro','Vintage');
INSERT INTO book VALUES(3,'Introduction to Algorithms','Thomas Cormen','The MIT Press');
INSERT INTO book VALUES(4,'The Three-Body Problem','Cixin Liu','Tor Books');
INSERT INTO book VALUES(5,'Dear Life','Alice Munro','Penguin');
INSERT INTO book VALUES(6,'Foundation','Isaac Asimov','Spectra');
INSERT INTO book VALUES(7,'Betrayal','Harold Pinter','Faber & Faber');
INSERT INTO book VALUES(8,'Sleep of Memory','Patrick Modiano','Yale University Press');
INSERT INTO book VALUES(9,'The Grass Is Singing','Doris Lessing','Plume');
INSERT INTO book VALUES(10,'The Casual Vacancy','J.K. Rowling','Back Bay Books');
INSERT INTO book VALUES(11,'The Adventures of Augie March','Saul Bellow','Penguin');
INSERT INTO book VALUES(12,'The Catcher in the Rye','J.D. Salinger','Back Bay Book');
INSERT INTO book VALUES(13,'To Kill a Mockingbird','Harper Lee','Harper');
INSERT INTO book VALUES(14,'The Remains of the Day','Kazuo Ishiguro','Vintage');
INSERT INTO book VALUES(15,'In Cold Blood','TRUMAN CAPOTE','Vintage');

INSERT INTO copy VALUES(5,1,1);
INSERT INTO copy VALUES(1,1,1);
INSERT INTO copy VALUES(1,2,2);
INSERT INTO copy VALUES(12,1,1);
INSERT INTO copy VALUES(12,2,1);
INSERT INTO copy VALUES(5,4,2);
INSERT INTO copy VALUES(2,3,1);
INSERT INTO copy VALUES(3,3,1);
INSERT INTO copy VALUES(4,1,1);
INSERT INTO copy VALUES(4,2,1);
INSERT INTO copy VALUES(4,3,1);
INSERT INTO copy VALUES(10,5,2);
INSERT INTO copy VALUES(10,6,1);
INSERT INTO copy VALUES(8,2,1);
INSERT INTO copy VALUES(8,3,1);
INSERT INTO copy VALUES(9,10,1);
INSERT INTO copy VALUES(11,2,1);
INSERT INTO copy VALUES(4,4,2);
INSERT INTO copy VALUES(10,3,1);
INSERT INTO copy VALUES(15,1,1);
INSERT INTO copy VALUES(11,1,3);
INSERT INTO copy VALUES(3,1,1);
INSERT INTO copy VALUES(6,1,1);
INSERT INTO copy VALUES(6,2,1);
INSERT INTO copy VALUES(8,1,1);
INSERT INTO copy VALUES(10,4,2);
INSERT INTO copy VALUES(1,3,2);
INSERT INTO copy VALUES(10,2,1);
INSERT INTO copy VALUES(3,2,1);
INSERT INTO copy VALUES(11,3,1);
INSERT INTO copy VALUES(11,4,1);
INSERT INTO copy VALUES(11,5,3);
INSERT INTO copy VALUES(14,1,1);
INSERT INTO copy VALUES(12,3,2);
INSERT INTO copy VALUES(5,2,1);
INSERT INTO copy VALUES(2,1,1);
INSERT INTO copy VALUES(2,2,3);
INSERT INTO copy VALUES(2,4,1);
INSERT INTO copy VALUES(2,5,1);
INSERT INTO copy VALUES(10,1,1);
INSERT INTO copy VALUES(5,3,1);
INSERT INTO copy VALUES(14,2,1);

INSERT INTO loan VALUES(1,1,1,11111111,'2018-12-16','2018-12-27',2.1);
INSERT INTO loan VALUES(2,1,2,11111114,'2018-12-23','2018-12-17',0);
INSERT INTO loan VALUES(3,1,3,11111113,'2018-12-21','2018-12-28',0.7 );
INSERT INTO loan VALUES(4,2,1,11111115,'2018-12-24','2018-12-24',0);
INSERT INTO loan VALUES(5,2,2,11111115,'2018-12-25','2018-12-21',0);
INSERT INTO loan VALUES(6,2,3,11111112,'2018-12-25','2018-12-24',0);
INSERT INTO loan VALUES(7,2,4,11111115,'2018-12-27','2018-12-30',0.3);
INSERT INTO loan VALUES(8,2,5,11111117,'2018-12-26','2018-12-23',0);
INSERT INTO loan VALUES(9,3,1,11111120,'2018-01-28','2018-12-29',0.1);
INSERT INTO loan VALUES(10,3,2,11111121,'2019-01-03','2019-01-01',0);
INSERT INTO loan VALUES(11,3,3,11111111,'2019-01-05','2019-01-01',0);
INSERT INTO loan VALUES(12,4,1,11111122,'2019-01-05','2019-01-07',0.2);
INSERT INTO loan VALUES(13,4,2,11111118,'2019-01-06','2019-01-01',0);
INSERT INTO loan VALUES(14,4,3,11111113,'2019-01-07','2019-01-03',0);
INSERT INTO loan VALUES(15,4,4,11111112,'2019-01-08','2019-01-02',0);
INSERT INTO loan VALUES(16,5,1,11111118,'2019-01-08','2019-01-20',1.2);
INSERT INTO loan VALUES(17,5,2,11111114,'2019-01-08','2019-01-05',0);
INSERT INTO loan VALUES(18,5,3,11111112,'2019-01-09','2019-01-09',0);
INSERT INTO loan VALUES(19,5,4,11111119,'2019-01-10','2019-01-15',0.5);
INSERT INTO loan VALUES(20,6,1,11111121,'2019-01-11','2019-01-05',0);
INSERT INTO loan VALUES(21,6,2,11111122,'2019-01-11','2019-01-07',0);
INSERT INTO loan VALUES(22,8,1,11111117,'2019-01-12','2019-01-05',0);
INSERT INTO loan VALUES(23,8,2,11111113,'2019-01-15','2019-02-21',3.7);
INSERT INTO loan VALUES(24,8,3,11111112,'2019-01-15','2019-01-11',0);
INSERT INTO loan VALUES(25,9,10,11111118,'2019-01-05','2019-01-03',0);
INSERT INTO loan VALUES(26,10,1,11111113,'2019-01-16','2019-02-21',3.6);
INSERT INTO loan VALUES(27,10,2,11111115,'2019-01-16','2019-01-11',0);
INSERT INTO loan VALUES(28,10,3,11111120,'2019-01-16','2019-01-12',0);
INSERT INTO loan VALUES(29,10,5,11111122,'2019-01-18','2019-01-19', 0.1);
INSERT INTO loan VALUES(30,10,6,11111119,'2019-01-17','2019-01-09',0);
INSERT INTO loan VALUES(31,11,1,11111111,'2019-01-17','2019-01-11',0);
INSERT INTO loan VALUES(32,11,2,11111112,'2019-01-17','2019-01-14',0);
INSERT INTO loan VALUES(33,11,3,11111114,'2019-01-19','2019-01-15',0);
INSERT INTO loan VALUES(34,11,4,11111113,'2019-01-19','2019-02-21',3.3);
INSERT INTO loan VALUES(35,11,5,11111117,'2019-01-20','2019-01-25',0.5);
INSERT INTO loan VALUES(36,12,1,11111118,'2019-01-20','2019-02-25',0.5);
INSERT INTO loan VALUES(37,12,2,11111121,'2019-01-20','2019-01-18',0);
INSERT INTO loan VALUES(38,12,3,11111114,'2019-01-20','2019-01-13',0);
INSERT INTO loan VALUES(39,1,2,11111117,'2019-01-21','2019-01-25',0.4);
INSERT INTO loan VALUES(40,1,3,11111116,'2019-01-21','2019-01-13',0);
INSERT INTO loan VALUES(41,2,1,11111111,'2019-01-21','2019-01-20',0);
INSERT INTO loan VALUES(42,2,3,11111113,'2019-01-21','2019-01-15',0);
INSERT INTO loan VALUES(43,2,4,11111121,'2019-01-24','2019-01-20',0);
INSERT INTO loan VALUES(44,15,1,11111116,'2019-01-24','2019-01-29',0.5);
INSERT INTO loan VALUES(45,2,5,11111119,'2019-01-25','2019-01-19',0);
INSERT INTO loan VALUES(46,3,1,11111118,'2019-01-25','2019-02-01',0.7);
INSERT INTO loan VALUES(47,3,2,11111116,'2019-01-26','2019-01-23',0);
INSERT INTO loan VALUES(48,3,3,11111119,'2019-01-26','2019-01-21',0);
INSERT INTO loan VALUES(49,4,1,11111114,'2019-01-26','2019-01-20',0);
INSERT INTO loan VALUES(50,4,2,11111113,'2019-01-28','2019-01-30',0.2);
INSERT INTO loan VALUES(51,4,3,11111118,'2019-01-28','2019-02-01',0.4);
INSERT INTO loan VALUES(52,4,4,11111113,'2019-01-30','2019-01-24',0);
INSERT INTO loan VALUES(53,5,1,11111116,'2019-02-02','2019-01-21',0);
INSERT INTO loan VALUES(54,5,2,11111111,'2019-02-02','2019-02-04',0.2);
INSERT INTO loan VALUES(55,5,3,11111115,'2019-02-04','2019-01-31',0);
INSERT INTO loan VALUES(56,5,4,11111111,'2019-02-04','2019-02-01',0);

INSERT INTO loan VALUES(57,4,1,11111120,'2019-02-17',NULL,NULL);
INSERT INTO loan VALUES(58,11,5,11111113,'2019-03-03',NULL,NULL);
INSERT INTO loan VALUES(59,10,4,11111116,'2019-03-06',NULL,NULL);
INSERT INTO loan VALUES(60,2,1,11111112,'2019-03-06',NULL,NULL);
INSERT INTO loan VALUES(61,10,2,11111114,'2019-03-07',NULL,NULL);
INSERT INTO loan VALUES(62,11,4,11111111,'2019-03-08',NULL,NULL);
INSERT INTO loan VALUES(63,6,1,11111116,'2019-03-09',NULL,NULL);
INSERT INTO loan VALUES(64,4,2,11111113,'2019-02-17',NULL,NULL);
INSERT INTO loan VALUES(65,12,3,11111119,'2019-02-17',NULL,NULL);
INSERT INTO loan VALUES(66,4,3,11111111,'2019-03-11',NULL,NULL);
INSERT INTO loan VALUES(67,10,5,11111122,'2019-03-16',NULL,NULL);
INSERT INTO loan VALUES(68,12,2,11111116,'2019-03-17',NULL,NULL);
INSERT INTO loan VALUES(69,4,4,11111113,'2019-03-22',NULL,NULL);
INSERT INTO loan VALUES(70,1,1,11111115,'2019-03-24',NULL,NULL);
INSERT INTO loan VALUES(71,11,1,11111116,'2019-03-27',NULL,NULL);
INSERT INTO loan VALUES(72,9,10,11111118,'2019-02-22',NULL,NULL);
INSERT INTO loan VALUES(73,2,2,11111113,'2019-03-30',NULL,NULL);

END
